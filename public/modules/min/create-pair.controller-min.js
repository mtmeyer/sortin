angular.module("fontPairApp").controller("CreatePair",function(n,t,r){function e(n){var t=[];for(i=0;i<n.length;i++)t.push(n[i].family.toLowerCase());return t}function o(t,r){"primFontInput"===t?n.isPrimValid=r:"secFontInput"===t&&(n.isSecValid=r)}$("#fontInputErrorMsg").hide(),r.getFonts().then(function(t){n.fonts=t.data,n.fonts=n.fonts[0].items,n.fontNames=e(n.fonts)}),n.back=function(){t.path("#/")},n.savePair=function(e){n.isPrimValid&&n.isSecValid?(e.likes=0,r.createPair(e).then(function(n){t.path("#/")},function(n){alert(n)})):($("#fontInputErrorMsg").show(),console.log("Error Occurred, try again."))},n.validFont=function(t,r){if("undefined"==typeof t)$("#"+r).addClass("inputInvalid"),$("#fontInputErrorMsg").show(),o(r,!1);else{var e=t.toLowerCase();-1===n.fontNames.indexOf(e)?(o(r,!1),$("#"+r).addClass("inputInvalid"),$("#fontInputErrorMsg").show()):(o(r,!0),$("#fontInputErrorMsg").hide(),$("#"+r).hasClass("inputInvalid")&&$("#"+r).removeClass("inputInvalid"))}},n.headerSaveHover=function(n){"in"===n?$("#headerSaveBtn").attr("src",function(n,t){return t.replace(".svg","_hover.svg")}):"out"===n&&$("#headerSaveBtn").attr("src",function(n,t){return t.replace("_hover.svg",".svg")})}});